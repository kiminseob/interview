# HTTP 개념 정리

## HTTP란?

- 인터넷에서 데이터를 주고 받기 위해 사용하는 프로토콜이다. 단순히 메시지를 주고 받는 것 뿐만 아니라, 헤더 필드나 추가 메소드, 상태 코드를 통해 효율적인 통신을 할 수 있다. 예를 들어서, Cache-Control 헤더 필드를 이용하여 캐시 사용 여부를 결정할 수 있다.

## 메시지 포맷

### 요청 메시지

클라이언트가 서버에게 보내는 요청 메시지 포맷은 다음과 같다.

- `요청 내용` : HTTP 메소드, URL, HTTP 버전 (ex. GET /images/logo.gif HTTP/1.1)
- `헤더` : (ex. Accept-Language: en)
- `빈 줄 (empty line)`
- `기타 메시지`

### 응답 메시지 포맷

서버가 클라이언트에게 보내는 응답 메시지 포맷은 다음과 같다.

- `상태표시 행`: HTTP 버전, 상태 코드, 상태 메시지 (ex. HTTP/1.1 200 OK)
- `헤더`: (ex. Centent-Type: text/html)
- `빈 줄 (empty line)`
- `기타 메시지`

## 상태 코드

### `1xx` (Informational, 정보)

- `100` (Continue, 계속) : 클라이언트로부터 일부 요청을 받았으니 나머지 요청 정보를 계속 보내주길 바람
- `101` (Switching Protocols, 프로토콜 변경) : 서버는 클라이언트의 요청대로 Upgrade 헤더를 따라 다른 프로토콜로 바꿀 것임

### `2xx` (Success, 성공)

- `200` (OK, 성공) : 오류 없이 전송 성공
- `201` (Created, 작성됨) : 요청이 성공적으로 처리되었으며, 자원이 생성되었음을 나타냄, 일반적으로 POST 요청에 대한 응답결과로써 사용된다
- `206` (Partial Content, 일부 콘텐츠) : 클라이언트가 Range 헤더와 함께 요청의 일부분을 보냈고 서버는 이를 수행했음

### `3xx` (Redirection, 위치 이동)

- `301` (Moved Permanently, 영구 이동) : 요청한 리소스가 Location 헤더에 주어진 URL로 완전히 옮겨졌다는 것을 나타낸다
- `302` (Found, 발견) : 요청한 리소스가 Location 헤더에 주어진 URL에 일시적으로 이동되었음을 가리킨다
- `303` (See Other, 기타 위치 보기) : 클라이언트가 요청한 리소스를 다른 URI에서 GET 요청을 통해 얻어야 할 때 사용하는 상태 코드. 즉, 요청받은 행동 수행을 위해서는 다른 URL로 요청 해야함을 의미
- `304` (Not modified, 수정되지 않음) : 이전의 동일한 요청과 비교하여 변화가 없음을 의미. 즉, 요청된 리소스를 다시 전송할 필요가 없음을 나타냄 (클라이언트는 캐시된 리소스를 보여줌)

### `4xx` (클라이언트 오류)

- `400` (Bad Request, 잘못된 요청) : 문법상 오류가 있어서 서버가 요청사항을 이해하지 못함
- `401` (Unauthorized, 권한 없음) : 요청을 위해서는 권한 인증이 필요함
- `403` (Forbidden) : 리소스에 대한 접근 권한 없음 등으로 요청 거부됨
- `404` (Not Found) : 요청한 URL을 찾을 수 없음

### `5xx` (서버 오류)

- `500` (Internal Server Error, 내부 오류) : 서버 내부 오류
- `503` (Service Unavailable, 서비스 이용 불가) ; 외부 서비스가 죽었거나 현재 멈춘 상태 또는 이용할 수 없는 서비스. 일반적으로 유지 관리를 위해 일시적으로 서버를 내렸거나, 과부하된 서버가 원인

## 메소드

클라이언트가 서버에게 사용자 요청의 목적이나 종류를 알리는 수단

### 주요 메소드

- `GET` : 리소스 조회
- `POST` : 리소스 생성
- `PUT` : 리소스 대체
- `PATCH` : 리소스 일부 변경
- `DELETE` : 리소스 삭제

### 기타 메소드

- `HEAD` : GET과 동일하지만 메시지 부분을 제외하고, 상태 줄과 헤더만 반환
- `OPTIONS` : 대상 리소스에 대한 통신 옵션을 설명하기 위해 사용 (주로 CORS에서 사용)
- `CONNECT` : 대상 자원으로 식별되는 서버에 대한 터널을 설정
- `TRACE` : 대상 리소스에 대한 경로를 따라 메시지 루프백 테스트를 수행
